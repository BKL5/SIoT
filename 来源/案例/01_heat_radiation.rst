科学探究之热辐射实验
=====================================


虚谷物联项目的核心工作就是利用物联网技术采集数据。借助SIoT物联网平台，学生不用注册和设置，一键启动，随时使用。通过对实时收集的数据进行合理分析，学生可以得出科学的分析结果，养成“用数据说话”的意识和习惯。

** 案例提供：狄勇（宁波市海曙区广济中心小学）

-----------------
案例描述
-----------------
热辐射问题在小学五年级、初中科学课中都有涉及。科学课堂上的实验方法，一般是采用不同颜色的纸袋包裹温度计，或者如下图将温度计插入涂成不同颜色的烧瓶，放太阳下暴晒，随时间推移记录温度数据，以验证不同颜色物体吸热本领的大小。

以往实际教学中采用的这些实验方法，需要学生长时间在阳光下暴晒观察，依靠人工读数、计时、记录，不但精度不足，也难以在有限的课堂时间内获得明显的实验结果。实验中还会因学生不经意对阳光的遮挡等因素，增加影响实验准确性的多余变量。如果能由学生亲手搭建一套可自动计时、记录温度的装置，不但能实现实验观察、值守的无人化，还能通过这种DIY数字化实验工具进行科学探究的方式，培养学生着眼于未来的核心素养。随着SIoT开源物联网平台的推出，小学生也可以基于掌控板便捷使用物联网，使得前述构想可以在课堂轻松实现。

.. image:: images/pic01.png

-----------------
准备工作
-----------------

一、用SIoT与掌控板做热辐射实验的原理  

在动手搭建实验平台前，我们先梳理一下制作思路。参考教育科学出版社小学《科学》五年级上册“怎样得到更多的光和热”一课的实验记录表，可见在装置设计时，需要在物联网平台记录时间和对应的温度两项数据。教材中设计的2分钟间隔，对于已实现自动记录的实验平台而言有些过长，我们可以设计为1分钟，甚至10秒钟的时间间隔，让细微的温度变化都得以呈现。

.. image:: images/2.PNG

用于记录数据的SIoT服务器应与掌控板部署在同一个局域网内，我们可以在教室台式机、教师笔记本电脑上轻松搭建SIoT服务器，其他设备在知道路由器分配给这台电脑的IP地址后，可以利用WIFI访问SIoT服务器。这些设备可以是电脑、手机、micro:bit、Arduino等，当然也包括本文采用的自带WIFI模块的掌控板。装置工作流程如下图：

.. image:: images/图片3.png

用于检测温度的传感器有不少选择，比如DHT11、BMP280、LM35等。考虑到LM35传感器更为常见，几乎是所有Arduino套件的标配，且测量温度范围满足需求，所以本实验采用LM35线性温度传感器。

二、检测装置的硬件搭建

我们将课程设定为面向全体学生的STEM课程，所以建议采用模块化的LM35传感器，尽可能避免因为线路连接上的不便导致无法在核心内容上给予学生必要的正向反馈。器材需求视实验分组数量而定，建议每个小组与测试的颜色一一对应。单组所需材料包括：
micro I/O extend扩展板  x1

掌控板                 x1

LM35线性温度传感器   ×1

烧瓶                  ×1

轻质黏土若干

电路连接示意图：

.. image:: images/图片4.png

.. image:: images/图片5.png 

大部分支持micro:bit的扩展板可以兼容掌控板，但需要注意的要将掌控板“反插”到插槽。

.. image:: images/图片6.png 

将LM35传感器放入烧瓶后，需要用轻质黏土封堵瓶口，避免瓶内空气与外界对流，以获得更好的实验效果。

三、SIoT服务器搭建

SIoT的使用手册可通过以下地址访问：https://siot.readthedocs.io/zh_CN/latest/
作为一个开源项目，SIoT存放于GitHub，点击使用手册的“文件下载”，根据电脑的操作系统选择相应版本软件包即可获得服务器程序。SIoT支持Linux、Mac、Windows，全面覆盖了常见操作系统。
（一）硬件准备

掌控板及其连接线

.. image:: ../image/haoqing/Mind+temperature-01.jpg

扩展板及其连接线

.. image:: ../image/haoqing/Mind+temperature-02.jpg

温湿度传感器及其连接线

.. image:: ../image/haoqing/Mind+temperature-03.jpg

（二）软件准备

1.搭建SIoT服务器

直接双击点击与系统匹配的SIoT运行文件，屏幕会弹出一个黑色的CMD窗口，在配置中请不要关闭它。

.. image:: ../image/haoqing/Mind+temperature-04.jpg

2.登录SIoT平台

打开浏览器，输入url：http://localhost:8080。

.. image:: ../image/haoqing/Mind+temperature-05.jpg

3.打开Mind+ V1.5.5编写程序

.. image:: ../image/haoqing/Mind+temperature-06.jpg

---------------
实施步骤
---------------

（一）参考程序

.. image:: ../image/haoqing/Mind+temperature-07.jpg

（二）具体操作
1.首先打开Mind+软件，在“上传模式”下，在“扩展”中选择“主控板-掌控板”与“网络服务-WiFi、MQTT”进行安装。将掌控板通过数据线连接到电脑，驱动安装完成后，点击“连接设备”中“COMxx-CP210x”即可。

.. image:: ../image/haoqing/Mind+yuancheng-05.png

2.手动修改可连接的WiFi热点名与密码。

.. image:: ../image/haoqing/Mind+temperature-10.jpg

3.设置MQTT初始化参数。选择SIoT物联网平台，服务器地址为本地IP地址，账号密码即SIoT使用的账号密码，Topic_0为“项目ID/名称”。

.. image:: ../image/haoqing/Mind+temperature-11.jpg

4.将程序“上传到设备”进行测试。

.. image:: ../image/haoqing/Mind+temperature-12.jpg

（三）运行结果

1.掌控板屏幕显示当前温度值。

.. image:: ../image/haoqing/Mind+temperature-13.jpg

2.当温度值高于30摄氏度时，红灯全部亮。

.. image:: ../image/haoqing/Mind+temperature-14.jpg

说明此时环境温度较高，用户应做好防晒及防中暑工作。

3.SIoT平台设备每间隔10秒接受一条信息。

.. image:: ../image/haoqing/Mind+temperature-15.jpg

（四）数据导出

在设备列表界面，点击“导出查询结果”可将消息记录导出。

.. image:: ../image/haoqing/Mind+temperature-16.jpg

导出后自动生成Excel文件  ，用户可继续使用表格工具对数据进行分析和处理。

.. image:: ../image/haoqing/Mind+temperature-17.jpg

（五）数据分析（天津师范大学一天室外温度）

1.数据筛选

使用Excel“筛选”功能将可用的温度信息筛选出来（温度为0的情况推测为掌控板与传感器间的引脚接触不良或网络不稳定等原因造成，故而将温度为0的数据进行筛选删除）。

2.制作图表

使用Excel“插入图表”功能，绘制折线图。

.. image:: ../image/haoqing/Mind+temperature-18.jpg

3.一天当中最高温

分析天津师范大学室外温度（2019年5月19日）折线图中数据可知，11:57开始出现当天最高温度35℃，12:00—13:00的温度值稳定在34℃左右，14:09再一次出现35℃，之后温度值徘徊在34℃—35℃，15:00后温度值开始降低。                           

由上述分析可得，5月19日这一天，接近正午12:00时第一次出现当天温度最高值，较为集中的温度最高值在午后14：00左右。这一结果与“一天之中，气温最高值出现在午后14时”的说法基本一致。测量结果受地区、气候等因素的影响，且此次测量结果仅为一天的测量数据，缺少一定的普适性，因此存在微小差异尚在情理之中。

4.一天当中最低温

分析上述折线图可知，晚上20:30出现当天最低温度17℃，日出前后温度值稳定在19℃左右。此结果与“一天之中，气温最低值出现在日出前后”的说法存在差异。分析差异原因可能为：当天晚上20:00左右天气突变，开始下雨，21:00左右雨停，所以导致气温最低温度出现在晚上20:30，而非日出前后。与最高温度一样，此次测量结果仅为一天的测量数据，缺少一定的普适性。

5.当日温差

当日温差在8 ℃左右，用户应注意添加衣物。

---------------
代码分享
---------------

代码下载地址：https://github.com/vvlink/SIoT/tree/master/examples/Mind%2B
